<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Networker 자유게시판</title>
    <link rel="stylesheet" href="../src/css/board.css">
</head>
<body>
	<script src="/src/js/board.js"></script>
    <header>
        <div class="header-content">
            <a href="/" style="text-decoration: none;">
            <span class="logo">
                <img src="../src/assets/logo.png">
                <h1>Networker</h1>
            </span>
            </a>
            <div class="menu">
                <a href="/">홈</a>
                <a href="/views/news.html">정보</a>
                <a href="/post/list">자유게시판</a>
                <a href="/views/store.html">스토어</a>
                <a href="/lawsupport/main">법률지원</a>
            </div>
            <div class="auth-buttons">
                <a href="/views/login.html">로그인</a>
                <a href="/views/signup.html">회원가입</a>
                <div class="profile-icon">
                    <a href="/views/profile.html"><img src="../src/assets/profile.png" alt="Profile"></a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="board-header">
            <h2>자유게시판</h2>
            <button class="write-post-button" onclick="window.location.href='/post/create'">
                <img id="pencil" src="../src/assets/pencil.png" alt="Write"> 글쓰기
            </button>
            <div class="search-box">
                <input type="text" id="search-input" placeholder="검색어를 입력하세요">
                <button id="search-button">검색</button>
            </div>
        </div>
        <table id="post-table" class="post-table">
            <thead>
                <tr>
                    <th>번호</th>
                    <th>제목</th>
                    <th>작성일</th>
                    <th>작성자</th>
                    <th>조회수</th>
                </tr>
            </thead>
            <tbody id="post-list">
                <!-- Posts will be loaded here dynamically -->
				<tr th:each="post, loop : ${paging}">
					<td th:text="${post.id}"></td>
					<td>
					    <a th:href="@{/post/detail/{id}(id=${post.id})}" th:text="${post.subject}"></a>
					</td>		
	<!--			<td th:text="${post.subject}">
					    <a th:href="@{/post/detail/{id}(id=${post.id})}" th:text="${post.subject}"></a> 
					</td> --> 
<!--<a th:href="@{|/post/detail/${post.id}|}" th:text="${post.subject}"></a>확인요망-->
                   <td th:text="${#temporals.format(post.createDate, 'yyyy-MM-dd HH:mm')}"></td>
				</tr>
            </tbody>
        </table>
		<div th:if="${!paging.isEmpty()}" class="pagination" id="pagination">
		    <ul class="pagination justify-content-center">
		        <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
		            <button class="page-link"
		                th:href="@{|?page=${paging.number > 0 ? paging.number + 1 : 1}|}">
		                <span>이전</span>
		            </button>
		        </li>
		        <li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
		            th:if="${page >= paging.number - 5 and page <= paging.number + 5}"
		            th:classappend="${page == paging.number} ? 'active'"
		            class="page-item">
		            <a th:text="${page + 1}" class="page-link" th:href="@{|?page=${page + 1}|}"></a>
		        </li>
		        <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
		            <button class="page-link"
		                th:href="@{|?page=${paging.number < paging.totalPages - 1 ? paging.number + 2 : paging.number + 1}|}">
		                <span>다음</span>
		            </button>
		        </li>
		    </ul>
		</div><!--해당 페이징은 페이지를 0대신 1부터 세도록 수정되어있는 것으로 만일 문제가 생기면 일반적인 페이징으로 고친다-->
    </main>

    <footer>
        <div class="footer-container">
            <ul class="footer-btn">
                <li><a href="#">이용약관</a></li>
                <li><a href="/views/Privacy_Policy.html" style="font-weight: bold;">개인정보처리방침</a></li>
                <li><a href="#">문의/신고</a></li>
                <li><a href="#">광고안내</a></li>
            </ul>
        </div>
    </footer>


</body>
</html>
